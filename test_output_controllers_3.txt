=== RUN   TestOpenedPhishingEmail
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:14+08:00" level=info msg="Please login with the username admin and the password 2ac77a8acf992178"
time="2025-12-25T01:56:14+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:14 +0800] \"GET /track?rid=RlCo2k6 HTTP/1.1\" 200 95 \"\" \"Go-http-client/1.1\""
--- PASS: TestOpenedPhishingEmail (0.40s)
=== RUN   TestReportedPhishingEmail
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:14+08:00" level=info msg="Please login with the username admin and the password 8d6b7b3847b35c22"
time="2025-12-25T01:56:14+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:14 +0800] \"GET /report?rid=c5WVBpi HTTP/1.1\" 204 0 \"\" \"Go-http-client/1.1\""
--- PASS: TestReportedPhishingEmail (0.37s)
=== RUN   TestClickedPhishingLinkAfterOpen
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:14+08:00" level=info msg="Please login with the username admin and the password eaa977a9f512f788"
time="2025-12-25T01:56:14+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:14 +0800] \"GET /track?rid=GR4Im9A HTTP/1.1\" 200 95 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:14+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:14 +0800] \"GET /?rid=GR4Im9A HTTP/1.1\" 200 43 \"\" \"Go-http-client/1.1\""
--- PASS: TestClickedPhishingLinkAfterOpen (0.37s)
=== RUN   TestNoRecipientID
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:15+08:00" level=info msg="Please login with the username admin and the password f45be9b1c835ea14"
time="2025-12-25T01:56:15+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:15 +0800] \"GET /track HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:15+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:15 +0800] \"GET / HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
--- PASS: TestNoRecipientID (0.37s)
=== RUN   TestInvalidRecipientID
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:15+08:00" level=info msg="Please login with the username admin and the password 00f9ba044d86f982"
time="2025-12-25T01:56:15+08:00" level=error msg="record not found"
time="2025-12-25T01:56:15+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:15 +0800] \"GET /track?rid=XXXXXXXXXX HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:15+08:00" level=error msg="record not found"
time="2025-12-25T01:56:15+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:15 +0800] \"GET /?rid=XXXXXXXXXX HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:15+08:00" level=error msg="record not found"
time="2025-12-25T01:56:15+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:15 +0800] \"GET /report?rid=XXXXXXXXXX HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
--- PASS: TestInvalidRecipientID (0.37s)
=== RUN   TestCompletedCampaignClick
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:15+08:00" level=info msg="Please login with the username admin and the password e64c06f624b82d68"
time="2025-12-25T01:56:16+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:16 +0800] \"GET /track?rid=UANSPum HTTP/1.1\" 200 95 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:16+08:00" level=info msg="Marking campaign as complete" campaign_id=1
time="2025-12-25T01:56:16+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:16 +0800] \"GET /track?rid=UANSPum HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:16+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:16 +0800] \"GET /?rid=UANSPum HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
--- PASS: TestCompletedCampaignClick (0.37s)
=== RUN   TestRobotsHandler
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:16+08:00" level=info msg="Please login with the username admin and the password 97cf21cdeb1408f4"
time="2025-12-25T01:56:16+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:16 +0800] \"GET /robots.txt HTTP/1.1\" 200 26 \"\" \"Go-http-client/1.1\""
--- PASS: TestRobotsHandler (0.36s)
=== RUN   TestInvalidPreviewID
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:16+08:00" level=info msg="Please login with the username admin and the password 4f2a00814c3383c7"
time="2025-12-25T01:56:16+08:00" level=error msg="record not found"
time="2025-12-25T01:56:16+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:16 +0800] \"GET /track?rid=preview-bogus HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:16+08:00" level=error msg="record not found"
time="2025-12-25T01:56:16+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:16 +0800] \"GET /?rid=preview-bogus HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:16+08:00" level=error msg="record not found"
time="2025-12-25T01:56:16+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:16 +0800] \"GET /report?rid=preview-bogus HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
--- PASS: TestInvalidPreviewID (0.37s)
=== RUN   TestPreviewTrack
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:16+08:00" level=info msg="Please login with the username admin and the password b51ea82ca0ff0289"
time="2025-12-25T01:56:17+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:17 +0800] \"GET /track?rid=preview-7HqXeCC HTTP/1.1\" 200 95 \"\" \"Go-http-client/1.1\""
--- PASS: TestPreviewTrack (0.37s)
=== RUN   TestPreviewClick
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:17+08:00" level=info msg="Please login with the username admin and the password 0c54b8dfc6fbe487"
time="2025-12-25T01:56:17+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:17 +0800] \"GET /?rid=preview-dTpp9N5 HTTP/1.1\" 200 43 \"\" \"Go-http-client/1.1\""
--- PASS: TestPreviewClick (0.37s)
=== RUN   TestInvalidTransparencyRequest
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:17+08:00" level=info msg="Please login with the username admin and the password 3438dff863868341"
time="2025-12-25T01:56:17+08:00" level=error msg="record not found"
time="2025-12-25T01:56:17+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:17 +0800] \"GET /track?rid=bogus+ HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:17+08:00" level=error msg="record not found"
time="2025-12-25T01:56:17+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:17 +0800] \"GET /?rid=bogus+ HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:17+08:00" level=error msg="record not found"
time="2025-12-25T01:56:17+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:17 +0800] \"GET /report?rid=bogus+ HTTP/1.1\" 404 19 \"\" \"Go-http-client/1.1\""
--- PASS: TestInvalidTransparencyRequest (0.37s)
=== RUN   TestTransparencyRequest
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:18+08:00" level=info msg="Please login with the username admin and the password feaaafd967f2e384"
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"GET /?rid=QpiKwGp+ HTTP/1.1\" 200 96 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"GET /track?rid=QpiKwGp+ HTTP/1.1\" 200 96 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"GET /report?rid=QpiKwGp+ HTTP/1.1\" 200 96 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"GET /?rid=QpiKwGp%2b HTTP/1.1\" 200 96 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"GET /track?rid=QpiKwGp%2b HTTP/1.1\" 200 96 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"GET /report?rid=QpiKwGp%2b HTTP/1.1\" 200 96 \"\" \"Go-http-client/1.1\""
--- PASS: TestTransparencyRequest (0.38s)
=== RUN   TestRedirectTemplating
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:18+08:00" level=info msg="Please login with the username admin and the password bbd6d1228e230bf7"
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"POST /?rid=h0Rn2xm HTTP/1.1\" 302 0 \"\" \"Go-http-client/1.1\""
--- PASS: TestRedirectTemplating (0.37s)
=== RUN   TestLoginCSRF
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:18+08:00" level=info msg="Please login with the username admin and the password f777a98c345620f7"
time="2025-12-25T01:56:18+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:18 +0800] \"POST /login HTTP/1.1\" 403 33 \"\" \"Go-http-client/1.1\""
--- PASS: TestLoginCSRF (0.37s)
=== RUN   TestInvalidCredentials
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:19+08:00" level=info msg="Please login with the username admin and the password 6f35876c324898ef"
time="2025-12-25T01:56:19+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:19 +0800] \"GET /login HTTP/1.1\" 200 1035 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:19+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:19 +0800] \"POST /login HTTP/1.1\" 403 28 \"http://127.0.0.1:53280/login\" \"Go-http-client/1.1\""
    route_test.go:87: invalid status code received. expected 401 got 403
--- FAIL: TestInvalidCredentials (0.37s)
=== RUN   TestSuccessfulLogin
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:19+08:00" level=info msg="Please login with the username admin and the password ff50a4bdaf3d586f"
time="2025-12-25T01:56:19+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:19 +0800] \"GET /login HTTP/1.1\" 200 1039 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:19+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:19 +0800] \"POST /login HTTP/1.1\" 403 28 \"http://127.0.0.1:53283/login\" \"Go-http-client/1.1\""
    route_test.go:98: invalid status code received. expected 200 got 403
--- FAIL: TestSuccessfulLogin (0.37s)
=== RUN   TestSuccessfulRedirect
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:19+08:00" level=info msg="Please login with the username admin and the password 99ebc726a0d33d8f"
time="2025-12-25T01:56:20+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:20 +0800] \"GET /login HTTP/1.1\" 200 1031 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:20+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:20 +0800] \"POST /login?next=/campaigns HTTP/1.1\" 403 28 \"http://127.0.0.1:53286/login\" \"Go-http-client/1.1\""
    route_test.go:114: invalid status code received. expected 302 got 403
--- FAIL: TestSuccessfulRedirect (0.37s)
=== RUN   TestAccountLocked
/Users/hk/Github/gpsh/controllers
in controllers_test.go: /Users/hk/Github/gpsh/db/db_sqlite3/migrations
goose: migrating db environment 'production', current version: 0, target: 20220321133237
OK    20160118194630_init.sql
OK    20160131153104_0.1.2_add_event_details.sql
OK    20160211211220_0.1.2_add_ignore_cert_errors.sql
OK    20160217211342_0.1.2_create_from_col_results.sql
OK    20160225173824_0.1.2_capture_credentials.sql
OK    20160227180335_0.1.2_store-smtp-settings.sql
OK    20160317214457_0.2_redirect_url.sql
OK    20160605210903_0.2_campaign_scheduling.sql
OK    20170104220731_0.2_result_statuses.sql
OK    20170219122503_0.2.1_email_headers.sql
OK    20170827141312_0.4_utc_dates.sql
OK    20171027213457_0.4.1_maillogs.sql
OK    20171208201932_0.4.1_next_send_date.sql
OK    20180223101813_0.5.1_user_reporting.sql
OK    20180524203752_0.7.0_result_last_modified.sql
OK    20180527213648_0.7.0_store_email_request.sql
OK    20180830215615_0.7.0_send_by_date.sql
OK    20190105192341_0.8.0_rbac.sql
OK    20191104103306_0.9.0_create_webhooks.sql
OK    20200116000000_0.9.0_imap.sql
OK    20200619000000_0.11.0_password_policy.sql
OK    20200730000000_0.11.0_imap_ignore_cert_errors.sql
OK    20200914000000_0.11.0_last_login.sql
OK    20201201000000_0.11.0_account_locked.sql
OK    20220321133237_0.4.1_envelope_sender.sql
time="2025-12-25T01:56:20+08:00" level=info msg="Please login with the username admin and the password cfd3b86bdae13b24"
time="2025-12-25T01:56:20+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:20 +0800] \"GET /login HTTP/1.1\" 200 1033 \"\" \"Go-http-client/1.1\""
time="2025-12-25T01:56:20+08:00" level=info msg="127.0.0.1 - - [25/Dec/2025:01:56:20 +0800] \"POST /login HTTP/1.1\" 403 28 \"http://127.0.0.1:53289/login\" \"Go-http-client/1.1\""
    route_test.go:132: invalid status code received. expected 401 got 403
--- FAIL: TestAccountLocked (0.37s)
FAIL
FAIL	github.com/gophish/gophish/controllers	7.208s
FAIL
